{"remainingRequest":"D:\\dragon_course\\front_code\\project3\\node_modules\\babel-loader\\lib\\index.js!D:\\dragon_course\\front_code\\project3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\dragon_course\\front_code\\project3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dragon_course\\front_code\\project3\\src\\setting\\Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dragon_course\\front_code\\project3\\src\\setting\\Setting.vue","mtime":1578739525788},{"path":"D:\\dragon_course\\front_code\\project3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dragon_course\\front_code\\project3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dragon_course\\front_code\\project3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dragon_course\\front_code\\project3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE5hdmlnYXRpb24gZnJvbSAiLi4vY29tcG9uZW50cy9OYXZpZ2F0aW9uLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2V0dGluZycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0dWRlbnRfaWQ6IDAsCiAgICAgIHN0dWRlbnRfbmFtZTogJycsCiAgICAgIGNvaW5fcmFuazoge30sCiAgICAgIHdvcmRfcmFuazoge30sCiAgICAgIHBvaW50X3Jhbms6IHt9LAogICAgICBwYXNzd29yZDE6ICIiLAogICAgICBwYXNzd29yZDI6ICIiCiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICAvL+acqueZu+W9le+8jOi3s+i9rOWIsOeZu+W9leeVjOmdogogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnN0dWRlbnRfaWQgPT0gIiIpIHsKICAgICAgd2luZG93LmxvY2F0aW9uID0gImxvZ2luLmh0bWwiOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc3R1ZGVudF9pZCA9IHBhcnNlSW50KHRoaXMuJHN0b3JlLnN0YXRlLnN0dWRlbnRfaWQpOwogICAgdGhpcy5zdHVkZW50X25hbWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zdHVkZW50X25hbWU7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB0aGlzLiRheGlvcyh7CiAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcHAvZ2V0cmFuaycKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHRoYXQuY29pbl9yYW5rID0gcmVzcG9uc2UuZGF0YS5jb2luX3Jhbms7CiAgICAgIHRoYXQud29yZF9yYW5rID0gcmVzcG9uc2UuZGF0YS53b3JkX3Jhbms7CiAgICAgIHRoYXQucG9pbnRfcmFuayA9IHJlc3BvbnNlLmRhdGEucG9pbnRfcmFuazsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZ29tYWluOiBmdW5jdGlvbiBnb21haW4oKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICJtYWluLmh0bWwiOwogICAgfSwKICAgIGNoYW5nZV9wYXNzd29yZDogZnVuY3Rpb24gY2hhbmdlX3Bhc3N3b3JkKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnBhc3N3b3JkMSk7CgogICAgICBpZiAodGhpcy5wYXNzd29yZDEgPT0gdGhpcy5wYXNzd29yZDIgJiYgdGhpcy5wYXNzd29yZDEgIT0gIiIpIHsKICAgICAgICB2YXIgbWVzc2FnZSA9ICfkvaDnoa7lrpropoHkv67mlLnlr4bnoIHlkJfvvJ8nOwoKICAgICAgICBpZiAod2luZG93LmNvbmZpcm0obWVzc2FnZSkgPT0gdHJ1ZSkgewogICAgICAgICAgdmFyIHBhcmFtID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICAgICAgcGFyYW0uYXBwZW5kKCduZXdfcGFzc3dvcmQnLCB0aGlzLnBhc3N3b3JkMSk7CiAgICAgICAgICBwYXJhbS5hcHBlbmQoJ3N0dWRlbnRfaWQnLCB0aGlzLnN0dWRlbnRfaWQpOwogICAgICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwcC9jaGFuZ2VwYXNzd29yZCcsCiAgICAgICAgICAgIGRhdGE6IHBhcmFtCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB3aW5kb3cuYWxlcnQocmVzcG9uc2UuZGF0YS5jaGFuZ2Vfc3RhdHVzKTsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gIm1haW4uaHRtbCI7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXNzd29yZDEgIT0gdGhpcy5wYXNzd29yZDIpIHsKICAgICAgICB3aW5kb3cuYWxlcnQoIuS4pOasoei+k+WFpeWvhueggeS4jeebuOWQjO+8jOivt+mHjeaWsOi+k+WFpSIpOwogICAgICAgIHRoaXMucGFzc3dvcmQxID0gIiI7CiAgICAgICAgdGhpcy5wYXNzd29yZDIgPSAiIjsKICAgICAgfSBlbHNlIGlmICh0aGlzLnBhc3N3b3JkMSA9PSAiIikgewogICAgICAgIHdpbmRvdy5hbGVydCgi5a+G56CB5LiN6IO95Li656m6Iik7CiAgICAgICAgdGhpcy5wYXNzd29yZDEgPSAiIjsKICAgICAgICB0aGlzLnBhc3N3b3JkMiA9ICIiOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uCiAgfQp9Ow=="},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,UAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,CADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,UAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,EANA;AAOA,MAAA,SAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,YAbA,0BAaA;AACA;AACA,QAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,IAAA,EAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,YAAA;AACA;AACA,GAlBA;AAmBA,EAAA,OAnBA,qBAmBA;AACA,SAAA,UAAA,GAAA,QAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA,SAAA,YAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,SAAA,MAAA,CAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,GAAA,EAAA;AAFA,KAAA,EAGA,IAHA,CAGA,UAAA,QAAA,EAAA;AACA,MAAA,IAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,MAAA,IAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,MAAA,IAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA;AACA,KAPA;AAQA,GA/BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,WAAA;AACA,KAHA;AAIA,IAAA,eAAA,EAAA,2BAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,SAAA;;AACA,UAAA,KAAA,SAAA,IAAA,KAAA,SAAA,IAAA,KAAA,SAAA,IAAA,EAAA,EAAA;AACA,YAAA,OAAA,GAAA,YAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,OAAA,KAAA,IAAA,EAAA;AACA,cAAA,KAAA,GAAA,IAAA,eAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,cAAA,EAAA,KAAA,SAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA,UAAA;AACA,eAAA,MAAA,CAAA;AACA,YAAA,MAAA,EAAA,MADA;AAEA,YAAA,GAAA,EAAA,0CAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,aAAA;AACA,YAAA,MAAA,CAAA,QAAA,GAAA,WAAA;AACA,WAPA;AAQA;AACA,OAfA,MAeA,IAAA,KAAA,SAAA,IAAA,KAAA,SAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,iBAAA;AACA,aAAA,SAAA,GAAA,EAAA;AACA,aAAA,SAAA,GAAA,EAAA;AACA,OAJA,MAIA,IAAA,KAAA,SAAA,IAAA,EAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,aAAA,SAAA,GAAA,EAAA;AACA,aAAA,SAAA,GAAA,EAAA;AACA;AACA;AA/BA,GAhCA;AAiEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA;AAjEA,CAAA","sourcesContent":["<template>\r\n\t<div id=\"setting\">\r\n\t\t<navigation></navigation>\r\n\r\n        <!--主体部分-->\r\n        <div id = \"main\">\r\n\r\n\t    \t<!--修改密码部分-->\r\n\t    \t<div class = \"change\">\r\n\t    \t\t<p>请输入新密码</p>\r\n            \t<input type = \"text\" class = \"password\" id = \"new-password\" v-model=\"password1\">\r\n\t    \t</div>\r\n\r\n\t    \t<div class = \"change\">\r\n\t    \t\t<p>请确认新密码</p>\r\n            \t<input type = \"text\" class = \"password\" id = \"confirm-password\" v-model=\"password2\">\r\n\t    \t</div>\r\n            <input type = \"button\" class = \"button-style2\" id = \"confirm\" value = \"确认\" @click=\"change_password\">\r\n            <input type = \"button\" class = \"button-style2\" id = \"cancel\" value = \"取消\" @click=\"gomain\">\r\n\r\n        </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Navigation from \"../components/Navigation.vue\"\r\n\r\nexport default {\r\n\tname: 'setting',\r\n\tdata: function(){\r\n\t\treturn{\r\n\t\t\tstudent_id: 0,\r\n            student_name: '',\r\n            coin_rank:{},\r\n            word_rank:{},\r\n            point_rank:{},\r\n            password1:\"\",\r\n            password2:\"\",\r\n\t\t}\r\n    },\r\n    beforeCreate(){\r\n\t\t//未登录，跳转到登录界面\r\n\t\tif(this.$store.state.student_id==\"\"){\r\n\t\t\twindow.location = \"login.html\"\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tthis.student_id = parseInt(this.$store.state.student_id)\r\n\t\tthis.student_name = this.$store.state.student_name\r\n        let that = this\r\n        this.$axios({\r\n            method:'get',\r\n            url:'http://localhost:8000/app/getrank',\r\n        }).then(function(response){\r\n            that.coin_rank = response.data.coin_rank\r\n            that.word_rank = response.data.word_rank\r\n            that.point_rank = response.data.point_rank\r\n        })\r\n\t},\r\n\tmethods: {\r\n        gomain:function(){\r\n            window.location = \"main.html\"\r\n        },\r\n        change_password:function(){\r\n            let that = this\r\n            window.console.log(this.password1)\r\n            if(this.password1 == this.password2 && this.password1 != \"\"){\r\n                let message = '你确定要修改密码吗？'\r\n                if(window.confirm(message) == true){\r\n                    let param = new URLSearchParams()\r\n                    param.append('new_password',this.password1)\r\n                    param.append('student_id',this.student_id)\r\n                    this.$axios({\r\n                        method:'post',\r\n                        url:'http://localhost:8000/app/changepassword',\r\n                        data:param,\r\n                    }).then(function(response){\r\n                        window.alert(response.data.change_status)\r\n                        window.location = \"main.html\"\r\n                    })\r\n                }\r\n            }else if(this.password1!=this.password2){\r\n                window.alert(\"两次输入密码不相同，请重新输入\")\r\n                this.password1 = \"\"\r\n                this.password2 = \"\"\r\n            }else if(this.password1 == \"\"){\r\n                window.alert(\"密码不能为空\")\r\n                this.password1 = \"\"\r\n                this.password2 = \"\"\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        Navigation\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped> \r\n#setting {\r\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    text-align: center;\r\n    color: #2c3e50;\r\n    margin: none;\r\n    height: 100%;\r\n    width: 100%;\r\n  \r\n}\r\n\r\n/* 主体框 */\r\n#main {\r\n    width: 500px;\r\n    height: 400px;\r\n    margin: auto;\r\n    margin-top: 150px;\r\n}\r\n\r\n.change {\r\n\tdisplay: flex;\r\n\tfont-size: 18px;\r\n\tfont-weight: bold;\r\n\tpadding-top: 30px;\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.password {\r\n    width: 300px;\r\n    height: 50px;\r\n    background: inherit;\r\n    background-color: rgba(255, 255, 255, 1);\r\n\tborder-radius: 4px;\r\n    margin-left: 10px;\r\n    font-size: 20px;\r\n}\r\n\r\n.button-style2 {\r\n\twidth: 150px;\r\n\theight: 50px;\r\n    font-size: 16px;\r\n    color: white;\r\n    box-sizing: border-box;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-radius: 5px;\r\n\tbackground: inherit;\r\n\tmargin-top: 30px;\r\n}\r\n\r\n#confirm {\r\n\tmargin-left: 10px;\r\n\tbackground-color: green;\r\n}\r\n#cancel {\r\n\tmargin-left: 50px;\r\n\tbackground-color: red;\r\n}\r\n</style>"],"sourceRoot":"src/setting"}]}