{"remainingRequest":"D:\\dragon_course\\front_code\\project3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dragon_course\\front_code\\project3\\src\\setting\\Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dragon_course\\front_code\\project3\\src\\setting\\Setting.vue","mtime":1578739525788},{"path":"D:\\dragon_course\\front_code\\project3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dragon_course\\front_code\\project3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dragon_course\\front_code\\project3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dragon_course\\front_code\\project3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gIi4uL2NvbXBvbmVudHMvTmF2aWdhdGlvbi52dWUiDQoNCmV4cG9ydCBkZWZhdWx0IHsNCgluYW1lOiAnc2V0dGluZycsDQoJZGF0YTogZnVuY3Rpb24oKXsNCgkJcmV0dXJuew0KCQkJc3R1ZGVudF9pZDogMCwNCiAgICAgICAgICAgIHN0dWRlbnRfbmFtZTogJycsDQogICAgICAgICAgICBjb2luX3Jhbms6e30sDQogICAgICAgICAgICB3b3JkX3Jhbms6e30sDQogICAgICAgICAgICBwb2ludF9yYW5rOnt9LA0KICAgICAgICAgICAgcGFzc3dvcmQxOiIiLA0KICAgICAgICAgICAgcGFzc3dvcmQyOiIiLA0KCQl9DQogICAgfSwNCiAgICBiZWZvcmVDcmVhdGUoKXsNCgkJLy/mnKrnmbvlvZXvvIzot7PovazliLDnmbvlvZXnlYzpnaINCgkJaWYodGhpcy4kc3RvcmUuc3RhdGUuc3R1ZGVudF9pZD09IiIpew0KCQkJd2luZG93LmxvY2F0aW9uID0gImxvZ2luLmh0bWwiDQoJCX0NCgl9LA0KCWNyZWF0ZWQoKXsNCgkJdGhpcy5zdHVkZW50X2lkID0gcGFyc2VJbnQodGhpcy4kc3RvcmUuc3RhdGUuc3R1ZGVudF9pZCkNCgkJdGhpcy5zdHVkZW50X25hbWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zdHVkZW50X25hbWUNCiAgICAgICAgbGV0IHRoYXQgPSB0aGlzDQogICAgICAgIHRoaXMuJGF4aW9zKHsNCiAgICAgICAgICAgIG1ldGhvZDonZ2V0JywNCiAgICAgICAgICAgIHVybDonaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwcC9nZXRyYW5rJywNCiAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7DQogICAgICAgICAgICB0aGF0LmNvaW5fcmFuayA9IHJlc3BvbnNlLmRhdGEuY29pbl9yYW5rDQogICAgICAgICAgICB0aGF0LndvcmRfcmFuayA9IHJlc3BvbnNlLmRhdGEud29yZF9yYW5rDQogICAgICAgICAgICB0aGF0LnBvaW50X3JhbmsgPSByZXNwb25zZS5kYXRhLnBvaW50X3JhbmsNCiAgICAgICAgfSkNCgl9LA0KCW1ldGhvZHM6IHsNCiAgICAgICAgZ29tYWluOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAibWFpbi5odG1sIg0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VfcGFzc3dvcmQ6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcw0KICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMucGFzc3dvcmQxKQ0KICAgICAgICAgICAgaWYodGhpcy5wYXNzd29yZDEgPT0gdGhpcy5wYXNzd29yZDIgJiYgdGhpcy5wYXNzd29yZDEgIT0gIiIpew0KICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gJ+S9oOehruWumuimgeS/ruaUueWvhueggeWQl++8nycNCiAgICAgICAgICAgICAgICBpZih3aW5kb3cuY29uZmlybShtZXNzYWdlKSA9PSB0cnVlKXsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpDQogICAgICAgICAgICAgICAgICAgIHBhcmFtLmFwcGVuZCgnbmV3X3Bhc3N3b3JkJyx0aGlzLnBhc3N3b3JkMSkNCiAgICAgICAgICAgICAgICAgICAgcGFyYW0uYXBwZW5kKCdzdHVkZW50X2lkJyx0aGlzLnN0dWRlbnRfaWQpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDoncG9zdCcsDQogICAgICAgICAgICAgICAgICAgICAgICB1cmw6J2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcHAvY2hhbmdlcGFzc3dvcmQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTpwYXJhbSwNCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7DQogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQocmVzcG9uc2UuZGF0YS5jaGFuZ2Vfc3RhdHVzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gIm1haW4uaHRtbCINCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnBhc3N3b3JkMSE9dGhpcy5wYXNzd29yZDIpew0KICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydCgi5Lik5qyh6L6T5YWl5a+G56CB5LiN55u45ZCM77yM6K+36YeN5paw6L6T5YWlIikNCiAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkMSA9ICIiDQogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZDIgPSAiIg0KICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5wYXNzd29yZDEgPT0gIiIpew0KICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydCgi5a+G56CB5LiN6IO95Li656m6IikNCiAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkMSA9ICIiDQogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZDIgPSAiIg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIE5hdmlnYXRpb24NCiAgICB9DQp9DQo="},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Setting.vue","sourceRoot":"src/setting","sourcesContent":["<template>\r\n\t<div id=\"setting\">\r\n\t\t<navigation></navigation>\r\n\r\n        <!--主体部分-->\r\n        <div id = \"main\">\r\n\r\n\t    \t<!--修改密码部分-->\r\n\t    \t<div class = \"change\">\r\n\t    \t\t<p>请输入新密码</p>\r\n            \t<input type = \"text\" class = \"password\" id = \"new-password\" v-model=\"password1\">\r\n\t    \t</div>\r\n\r\n\t    \t<div class = \"change\">\r\n\t    \t\t<p>请确认新密码</p>\r\n            \t<input type = \"text\" class = \"password\" id = \"confirm-password\" v-model=\"password2\">\r\n\t    \t</div>\r\n            <input type = \"button\" class = \"button-style2\" id = \"confirm\" value = \"确认\" @click=\"change_password\">\r\n            <input type = \"button\" class = \"button-style2\" id = \"cancel\" value = \"取消\" @click=\"gomain\">\r\n\r\n        </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Navigation from \"../components/Navigation.vue\"\r\n\r\nexport default {\r\n\tname: 'setting',\r\n\tdata: function(){\r\n\t\treturn{\r\n\t\t\tstudent_id: 0,\r\n            student_name: '',\r\n            coin_rank:{},\r\n            word_rank:{},\r\n            point_rank:{},\r\n            password1:\"\",\r\n            password2:\"\",\r\n\t\t}\r\n    },\r\n    beforeCreate(){\r\n\t\t//未登录，跳转到登录界面\r\n\t\tif(this.$store.state.student_id==\"\"){\r\n\t\t\twindow.location = \"login.html\"\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tthis.student_id = parseInt(this.$store.state.student_id)\r\n\t\tthis.student_name = this.$store.state.student_name\r\n        let that = this\r\n        this.$axios({\r\n            method:'get',\r\n            url:'http://localhost:8000/app/getrank',\r\n        }).then(function(response){\r\n            that.coin_rank = response.data.coin_rank\r\n            that.word_rank = response.data.word_rank\r\n            that.point_rank = response.data.point_rank\r\n        })\r\n\t},\r\n\tmethods: {\r\n        gomain:function(){\r\n            window.location = \"main.html\"\r\n        },\r\n        change_password:function(){\r\n            let that = this\r\n            window.console.log(this.password1)\r\n            if(this.password1 == this.password2 && this.password1 != \"\"){\r\n                let message = '你确定要修改密码吗？'\r\n                if(window.confirm(message) == true){\r\n                    let param = new URLSearchParams()\r\n                    param.append('new_password',this.password1)\r\n                    param.append('student_id',this.student_id)\r\n                    this.$axios({\r\n                        method:'post',\r\n                        url:'http://localhost:8000/app/changepassword',\r\n                        data:param,\r\n                    }).then(function(response){\r\n                        window.alert(response.data.change_status)\r\n                        window.location = \"main.html\"\r\n                    })\r\n                }\r\n            }else if(this.password1!=this.password2){\r\n                window.alert(\"两次输入密码不相同，请重新输入\")\r\n                this.password1 = \"\"\r\n                this.password2 = \"\"\r\n            }else if(this.password1 == \"\"){\r\n                window.alert(\"密码不能为空\")\r\n                this.password1 = \"\"\r\n                this.password2 = \"\"\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        Navigation\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped> \r\n#setting {\r\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    text-align: center;\r\n    color: #2c3e50;\r\n    margin: none;\r\n    height: 100%;\r\n    width: 100%;\r\n  \r\n}\r\n\r\n/* 主体框 */\r\n#main {\r\n    width: 500px;\r\n    height: 400px;\r\n    margin: auto;\r\n    margin-top: 150px;\r\n}\r\n\r\n.change {\r\n\tdisplay: flex;\r\n\tfont-size: 18px;\r\n\tfont-weight: bold;\r\n\tpadding-top: 30px;\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.password {\r\n    width: 300px;\r\n    height: 50px;\r\n    background: inherit;\r\n    background-color: rgba(255, 255, 255, 1);\r\n\tborder-radius: 4px;\r\n    margin-left: 10px;\r\n    font-size: 20px;\r\n}\r\n\r\n.button-style2 {\r\n\twidth: 150px;\r\n\theight: 50px;\r\n    font-size: 16px;\r\n    color: white;\r\n    box-sizing: border-box;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-radius: 5px;\r\n\tbackground: inherit;\r\n\tmargin-top: 30px;\r\n}\r\n\r\n#confirm {\r\n\tmargin-left: 10px;\r\n\tbackground-color: green;\r\n}\r\n#cancel {\r\n\tmargin-left: 50px;\r\n\tbackground-color: red;\r\n}\r\n</style>"]}]}